---
import { getCollection } from "astro:content";
import { Image } from "astro:assets";
import Layout from "../layout/layout.astro";

const projects = await getCollection("projects");
---

<Layout>
	<h1>Astro</h1>
	<div
		class="grid grid-cols-[repeat(auto-fit,_minmax(300px,_1fr))] m-25 gap-20"
	>
		{
			projects.map((project) => {
				return (
					<a href={`/projects/${project.id}`}>
						<div
							class="bg-amber-100 shadow-xl aspect-square rounded-xl flex flex-col p-2 gap-2 min-h-0"
							transition:name={project.id + "note"}
						>
							<div class="bg-red-200 shadow-xl rounded-xl p-2 flex-grow min-h-0 place-items-center place-content-center">
								<Image
									src={project.data.thumbnail}
									alt={project.data.thumbnailAlt}
									class="max-h-full max-w-full h-auto w-auto rounded-xl"
									transition:name={project.id + "image"}
								/>
							</div>
							<h1>{project.data.title}</h1>
							<div>progress</div>
						</div>
					</a>
				);
			})
		}
	</div>
</Layout>
